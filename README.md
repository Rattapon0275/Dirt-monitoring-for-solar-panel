# Dirt monitoring for solar panel
Designed by Rattapon Wayamanon, Porramee Yensiri

## Introduction
Light intensity is one of the factors that affects the performance of photovoltaic cells to generate electrical energy. Higher light intensity can increase the current generated by the panels. Dirtiness on the solar panels, such as dust, leaves, can reduce light intensity that the panel should fully receive. People mostly ignore it, so it may cause their solar panels to not work in full performance of them. From this problem, we have the idea that is to design a dirt monitoring system for solar panels, to detect the dirtiness on the panels and clean them if it is too dirty!

![diagram](https://github.com/user-attachments/assets/a68454ee-c0b2-4fff-b0f7-60457a46309a)

Dirt monitoring system is designed to support solar panels in households. The system can detect dirt on the panels by dirt sensor attached on the panels. Each solar panel has one outdoor controller that includes dirt detection and other parameters (temperature under panel, light intensity, rain, voltage and current flow from the panel, and energy) for only itself.  The dirtiness will be converted into score and is sent with all other data to keep in a cloud memory via WiFi for monitoring in far distance. The users can monitor the dirtiness of their panels with the other parameters in a mobile app. When dirtiness score is high, the mobile app will notify user to clean the solar panels. The user can command the outdoor controller to clean their panels. Especially for some dirty panels whose dirtiness score is in critical, the outdoor controller automatically clean the panels by itself and the mobile app will notify user to inform automatic cleaning action.

![IoT proposal presentation](https://github.com/user-attachments/assets/2a089381-2dc5-4453-a166-fb9d56e7ea08)

## Use cases
+ **Case 1**
  + Title : Less dirt or raindrops are detected, no warning to clean panel.
  + Actors : User, mobile app, outdoor controller
  + Scenario :
    1.	Outdoor controller detects the dirtiness of solar panel with light intensity, rain, temperature under the panel, voltage, current and its energy.
    2.	Outdoor controller gives a dirtiness score of 1.
    3.	Outdoor controller sends all data detected to cloud.
    4.	User opens mobile app.
    5.	Mobile app shows the value of the dirtiness of solar panel with other parameters on its UI.
+ **Case 2**
  + Title : Dirt is detected, mobile app warns user to clean panel.
  + Actors : User, mobile app, outdoor controller
  + Scenario :
    1.	Outdoor controller detects the dirtiness of solar panel with light intensity, rain, temperature under the panel, voltage, current and its energy.
    2.	Outdoor controller gives a dirtiness score of 2.
    3.	Outdoor controller sends all data detected to cloud.
    4.	Notification alerts user on the mobile phone to clean panel.
    5.	User opens mobile app.
    6.	Mobile app shows the value of the dirtiness of solar panel with other parameters on its UI.
+ **Case 3**
  + Title : User commands to clean panel.
  + Actors : User, mobile app, outdoor controller, springer
  + Scenario :
    1.	User opens mobile app.
    2.	User clicks a cleaning button.
    3.	Cleaning command is sent to cloud.
    4.	Outdoor controller reads the cleaning command from cloud.
    5.	Outdoor controller turns on springer to clean panel for 1 minute.
    6.	Outdoor controller automatically turns off springer.
+ **Case 4**
  + Title : Too much dirt is detected, mobile app notifies user for automatic cleaning.
  + Actors : User, mobile app, outdoor controller, springer
  + Scenario :
    1.	Outdoor controller detects the dirtiness of solar panel with light intensity, rain, temperature under the panel, voltage, current and its energy.
    2.	Outdoor controller gives a dirtiness score of 3.
    3.	Outdoor controller turn on springer to clean the panel without command from user.
    4.	Outdoor controller sends all data detected to cloud.
    5.	Notification alerts user on the mobile phone to inform automatic cleaning.
    6.	User opens mobile app.
    7.	Mobile app shows the value of the dirtiness of solar panel with other parameters on its UI.

  
## Objectives
+	To create dirt monitoring for solar panels
+	To create a IoT monitoring system and a mobile app for users to monitor any parameters detected on solar panels
+	To clean dirt on solar panels by users or itself in case of exceeding a specific limit

## Scope
+	1 outdoor controller with user app for 1 user
+	Real-time monitoring (Back up historical data in future)
+	Dirt sensor is detected dust or particles that have the same size as dust only.
+	No electrical load, only solar panels with battery and outdoor controller
+	Monitor dirtiness on each panel, temperature under panel, light intensity, rain, voltage and current flow from the panel, and energy generated from the panel

## List of features
+	Monitor the dirtiness (dust) of solar panels in a mobile app.
+	Monitor other parameters on the solar panels (temperature under panel, light intensity, rain, voltage and current flow from the panel, and energy) in a mobile app.
+	Command cleaning solar panels via a mobile app or automatically clean by themselves if the dirtiness score reaches a specific limit.

## Learning Goals
+	To learn and apply ITO and Non-ITO film to create a dirt sensor
+	To learn basic ideas of how to create IoT communication system
+	To learn basic ideas of how to create a mobile app

## Timeline
![image](https://github.com/user-attachments/assets/41c7870b-2805-4b9a-b31a-86497f003847)

### **Week 1**
  + ***Dirt Detection***: Try creating two parallel copper strips attached on a glass plate, then the result is shown via the difference of capacitance between having the plate with and without powder (to simulate dust) as shown below. While the powder is being on the plate, the capacitance measured between two strips by LCR meter is more than the capacitance as no powder on the plate, in a unit of 0.1 pF. This experiment can be concluded that powder(or dust) affect a small capacitance change between copper strips. The next step is to try increasing the capacitance of the powder more obviously, in a unit of nF or uF, or find the solution to convert this small change into dirt score.<br><br>
![image](https://github.com/user-attachments/assets/c073fd8a-03e0-429d-999c-8ed51b7b8920) <br>
  + ***Other Detection***: Choose sensors for each detection. INA226 is a voltage/current/power sensor, to measure those magnitudes from solar panel terminal. This sensor transmits data via I2C communication. BH1750FVI is used for light intensity detection, using I2C communication for data transmission. To detect temperature under solar panel, thermocouple Type K (0-600 Â°C) is used to measure temperature, convert the data by MAX6675 and send it via SPI communication. Rain Sensor Module is used for detecting rain, but not to know the amount of rain as detection. This sensor is read data via ADC interfacing. All sensors that are mentioned before have already bought and they are being tried coding and testing.
  + ***Mobile App and Cloud***: We surveyed various cloud and mobile applications available on the internet, such as Google Sheets, Thunkable, etc. In conclusion, we found many attractive software options, but some require a cost for certain processes. Therefore, we selected Netpie as our main software due to its user-friendly dashboard and its accompanying mobile app, which shares the same name and can be downloaded for free on mobile devices.
### **Week 2**
  + ***Dirt Detection***: Implemented an advanced copper tape design to improve capacitance variation in the experiment, aiming to enhance sensitivity in dirt detection. The new design successfully increased the capacitance change from 0.1 pF to 0.5-0.6 pF, indicating an improvement in detection capability. However, despite this increase, the change remains relatively small and still poses challenges for accurate detection. Factors such as the arrangement, width, and spacing of the copper tape could further influence capacitance behavior. The next step is to refine the design by optimizing these parameters to achieve a greater capacitance increase, making the changes more distinguishable and improving overall detection performance.
  + ***Other Detection***:
  + ***Mobile App and Cloud***: Created a project in Netpie and established an initial connection between the sensor and the system. Simulated sensor values were successfully displayed on the dashboard, confirming that the setup is functioning as expected. The next step is to refine the integration and conduct testing with real sensor data to improve accuracy and reliability.
### **Week 3**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Mobile App and Cloud***:
### **Week 4**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Mobile App and Cloud***:
### **Week 5**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Energy Management***:
  + ***Mobile App and Cloud***:
### **Week 6**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Energy Management***:
  + ***Mobile App and Cloud***:
### **Week 7**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Energy Management***:
  + ***Mobile App and Cloud***:
### **Week 8**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Energy Management***:
  + ***Mobile App and Cloud***:
### **Week 9**
  + ***Dirt Detection***:
  + ***Other Detection***:
  + ***Cleaning Action***:
  + ***Energy Management***:
  + ***Mobile App and Cloud***:
